:root {
  --bg-top: #e7edf5;
  --bg-bottom: #dce5ef;
  --city-bg-image: none;
  --card-bg: #243140;
  --card-bg-hover: #243140;
  --text-main: #eaf1f9;
  --text-muted: #a7bbd1;
  --accent: #24c4a4;
  --accent-strong: #24c4a4;
  --border: #3b4f66;
  --link-main: #0f5d85;
  --link-hover: #0a4a69;
  --shadow: none;
}

html {
  min-height: 100%;
  background-color: var(--bg-bottom);
  background-image:
    var(--city-bg-image),
    radial-gradient(1200px 500px at 10% -10%, rgba(36, 196, 164, 0.14), transparent 55%),
    radial-gradient(1000px 450px at 90% -20%, rgba(15, 93, 133, 0.13), transparent 55%),
    linear-gradient(165deg, var(--bg-top), var(--bg-bottom));
  background-repeat: no-repeat, no-repeat, no-repeat, no-repeat;
  background-size: cover, auto, auto, cover;
  background-position: center, center, center, center;
  background-attachment: scroll, scroll, scroll, scroll;
}

body {
  font-family: Arial, sans-serif;
  text-align: center;
  min-height: 100vh;
  background-color: transparent;
  margin: 0;
  padding: 0;
  color: #112033;
}

h1, h3 {
  color: #0f2438;
}

.page-shell {
  padding: 20px 12px 40px;
}

.page-shell form {
  max-width: 440px;
  margin: 16px auto;
}

.workflow-shell {
  width: min(1200px, calc(100vw - 24px));
  margin: 0 auto 28px;
}

.workflow-header {
  margin: 14px 0 10px;
}

.workflow-header h1 {
  margin: 0;
}

.workflow-header h3 {
  margin: 4px 0 8px;
}

.workflow-hint {
  margin: 0 0 6px;
  color: #38526d;
  font-size: 14px;
}

.workflow-grid {
  margin-top: 14px;
  display: grid;
  grid-template-columns: minmax(320px, 420px) minmax(0, 1fr);
  gap: 14px;
  align-items: start;
}

.workflow-step {
  text-align: left;
}

.workflow-step h4 {
  margin: 0 0 8px;
  color: #1a334d;
  font-size: 16px;
}

.mode-toggle {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px;
  margin-bottom: 12px;
  width: 100%;
}

.mode-toggle-btn {
  margin: 0;
  width: auto;
  min-width: 0;
  background: #1b2736;
  color: var(--text-main);
  border: 1px solid var(--border);
  padding: 10px 12px;
  border-radius: 6px;
  font-weight: 700;
  box-sizing: border-box;
}

.mode-toggle-btn.active {
  background: var(--accent);
  color: #042920;
  border-color: transparent;
}

.subtitle {
  color: black;
  margin: 0;
}

form {
  max-width: 600px;
  margin: 16px auto;
  background-color: var(--card-bg);
  padding: 18px;
  border-radius: 10px;
  border: 1px solid var(--border);
  box-shadow: none;
  transition: none;
}

#myForm {
  max-width: none;
  margin: 0;
  box-sizing: border-box;
}

form:hover {
  background-color: var(--card-bg-hover);
  box-shadow: none;
}

label {
  display: block;
  font-weight: bold;
  margin-bottom: 8px;
  color: var(--accent);
}

select,
input[type="text"],
input[type="password"],
input[type="number"],
input[type="submit"],
button,
input[type="checkbox"] {
  width: 100%;
  padding: 12px;
  margin-bottom: 15px;
  box-sizing: border-box;
  border: 1px solid var(--border);
  border-radius: 6px;
  background-color: #1b2736;
  color: var(--text-main);
  transition: border-color .2s ease;
}

input[type="password"] {
  -webkit-text-fill-color: var(--text-main);
  color: var(--text-main);
  font: inherit;
}

input[type="submit"],
button {
  background: var(--accent);
  color: #042920;
  font-weight: bold;
  border-color: rgba(0, 0, 0, 0.1);
  cursor: pointer;
}

input[type="submit"]:hover,
button:hover {
  background: #21b395;
}

/* Select2 theme alignment */
.select2-container {
  width: 100% !important;
  margin-bottom: 15px;
}

.name-search .select2-container,
.coords-search .select2-container {
  margin-top: 6px;
  margin-bottom: 18px !important;
}

.select2-container--default .select2-selection--single {
  height: 46px;
  border: 1px solid var(--border) !important;
  border-radius: 6px;
  background-color: #1b2736 !important;
  box-sizing: border-box;
}

.select2-container--default .select2-selection--single .select2-selection__rendered {
  color: var(--text-main) !important;
  line-height: normal !important;
  padding: 0 36px 0 12px !important;
  height: 100% !important;
  display: flex !important;
  align-items: center !important;
  box-sizing: border-box;
}

.select2-container--default .select2-selection--single .select2-selection__arrow {
  height: 44px;
  width: 32px;
}

.select2-container--default .select2-selection--single .select2-selection__arrow b {
  border-color: var(--text-muted) transparent transparent transparent !important;
}

.select2-container--default .select2-selection--single .select2-selection__placeholder {
  color: var(--text-muted) !important;
}

.select2-container--default.select2-container--focus .select2-selection--single {
  border-color: var(--accent) !important;
  box-shadow: 0 0 0 3px rgba(37, 199, 166, 0.2) !important;
}

.select2-dropdown {
  border: 1px solid var(--border) !important;
  background: #1b2736 !important;
  color: var(--text-main) !important;
}

.select2-container--default .select2-results > .select2-results__options {
  background: #1b2736 !important;
}

.select2-container--default .select2-results__option {
  color: var(--text-main) !important;
  background: #1b2736 !important;
}

.select2-container--default .select2-results__option--highlighted[aria-selected] {
  background: var(--accent) !important;
  color: #042920 !important;
}

.select2-container--default .select2-search--dropdown .select2-search__field {
  border: 1px solid var(--border) !important;
  background: #1b2736 !important;
  color: var(--text-main) !important;
  border-radius: 6px !important;
}

.select2-container--default .select2-search--dropdown .select2-search__field::placeholder {
  color: var(--text-muted) !important;
}

.coords-search #search-by-gps-btn {
  margin-bottom: 14px;
}

.coords-search #stationsMaxDistance-label {
  text-align: center;
  margin: 0 0 8px;
}

.coords-search #stationsMaxDistance-input {
  display: block;
  width: min(100%, 320px);
  margin: 0 auto 14px;
}

.coords-search label[for="coords-input"] {
  margin-top: 2px;
}

#submit {
  margin-top: 8px;
}

#sort-data-wrapper {
  margin: 0;
  display: grid;
  grid-template-columns: auto 24px auto 24px;
  justify-content: center;
  gap: 10px 8px;
  align-items: center;
}

#favorite-toggle-wrapper {
  margin: 8px 0 14px;
}

#favorite-toggle-btn {
  width: auto;
  margin: 0 auto;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
}

.favorite-icon {
  font-size: 18px;
  line-height: 1;
}

#favorite-message {
  margin: 5px 0 0;
  font-weight: bold;
}

#favorite-note-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(3px);
  z-index: 999999998;
  padding: 20px;
  box-sizing: border-box;
}

.favorite-note-modal-content {
  max-width: 460px;
  margin: 80px auto 0;
  background: var(--card-bg);
  border-radius: 10px;
  padding: 20px;
  border: 1px solid var(--border);
  box-shadow: none;
  color: #1abc9c;
}

.favorite-note-actions {
  display: flex;
  gap: 10px;
  justify-content: center;
}

.favorite-note-actions button {
  width: auto;
  margin: 0;
}

select:focus,
input:focus,
button:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(37, 199, 166, 0.2);
}

#map {
  width: 30vw;
  height: 30vw;
  margin: auto;
  border: 2px solid black;
}

#result {
  color: var(--text-main);
  width: 100%;
  margin: 0;
  background-color: var(--card-bg);
  padding: 18px;
  border-radius: 10px;
  border: 1px solid var(--border);
  box-shadow: none;
  transition: none;
  box-sizing: border-box;
}

#result-empty {
  margin: 0 0 10px;
  color: var(--text-muted);
}

#result:hover {
  background-color: var(--card-bg-hover);
  box-shadow: none;
}

#tabela {
  width: 100%;
  margin-top: 20px;
  color: var(--text-main);
  font-size: large;
  border: 2px solid black;
  font-weight: bold;
  text-transform: uppercase;
  margin: auto;
  display: none;
}

.card-panel {
  color: var(--text-main);
  width: min(900px, calc(100vw - 24px));
  margin: 16px auto;
  background-color: var(--card-bg);
  padding: 18px;
  border-radius: 10px;
  border: 1px solid var(--border);
  box-shadow: none;
  transition: none;
}

.card-panel:hover {
  background-color: var(--card-bg-hover);
  box-shadow: none;
}

.card-panel p {
  margin-top: 0;
}

.profile-hero {
  width: min(900px, calc(100vw - 24px));
  margin: 14px auto 0;
  padding: 14px 18px;
  border: 1px solid var(--border);
  border-radius: 10px;
  background: #f7fbff;
  text-align: left;
}

.profile-hero-label {
  font-size: 12px;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: #5c7591;
}

.profile-hero-username {
  font-size: 28px;
  line-height: 1.2;
  font-weight: 700;
  color: #163452;
  margin-top: 2px;
}

.profile-hero-meta {
  margin-top: 8px;
  display: flex;
  gap: 14px;
  flex-wrap: wrap;
  color: #345574;
  font-size: 14px;
}

.profile-header-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.profile-greeting {
  margin: 0;
}

.profile-links {
  display: inline-flex;
  gap: 10px;
  align-items: center;
}

.profile-links a {
  color: var(--accent);
  text-decoration: none;
  font-weight: 700;
}

.profile-links a:hover {
  text-decoration: underline;
}

.data-table {
  width: 100%;
  margin-top: 20px;
  color: var(--text-main);
  font-size: large;
  border: 2px solid black;
  font-weight: bold;
  text-transform: uppercase;
  margin-left: auto;
  margin-right: auto;
}

.data-table button {
  width: auto;
  margin: 0;
}

.data-table tbody tr[data-city] {
  cursor: pointer;
}

.data-table tbody tr[data-city]:hover {
  background: rgba(36, 196, 164, 0.08);
}

th, td {
  border: 1px solid var(--border);
  padding: 10px;
  text-align: left;
}

thead {
  background: var(--accent);
  color: #052f26;
}

@media screen and (max-width: 600px) {
  .workflow-shell {
      width: calc(100vw - 12px);
      margin-bottom: 12px;
  }

  .workflow-grid {
      grid-template-columns: 1fr;
      gap: 8px;
  }

  .workflow-header h1 {
      font-size: 44px;
  }

  .workflow-header h3 {
      font-size: 18px;
  }

  .workflow-hint {
      font-size: 13px;
      margin-bottom: 10px;
  }

  #myForm,
  #result {
      padding: 14px;
      border-radius: 12px;
  }

  .mode-toggle-btn {
      padding: 9px 10px;
      font-size: 14px;
  }

  #sort-data-wrapper {
      grid-template-columns: auto 24px;
      justify-content: center;
      row-gap: 6px;
      column-gap: 8px;
  }

  #sort-data-wrapper label {
      margin: 0;
  }

  #map {
      width: 100%;
      height: 38vh;
      min-height: 260px;
  }

  #submit {
      width: 100%;
  }

  #tabela {
      font-size: 13px;
  }

  #tabela th,
  #tabela td {
      padding: 8px 6px;
      white-space: nowrap;
  }

  .card-panel {
      width: calc(100vw - 24px);
      padding: 14px;
  }

  .profile-hero {
      width: calc(100vw - 24px);
      padding: 12px 14px;
  }

  .profile-hero-username {
      font-size: 24px;
  }
}

a, a:visited, a:link, a:active {
  color: var(--link-main);
  text-decoration: underline;
  text-decoration-thickness: 1px;
  text-underline-offset: 2px;
}

a:hover {
  color: var(--link-hover);
}

.profile-links a,
.profile-links a:visited,
.profile-links a:link,
.profile-links a:active {
  color: var(--accent);
  text-decoration: none;
}

.profile-links a:hover {
  color: #21b395;
  text-decoration: underline;
}
